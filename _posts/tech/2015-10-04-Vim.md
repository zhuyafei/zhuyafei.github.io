---
layout: post
title: Vim手册
category: 技术
---
## 1. Vim的几种模式
* 正常模式：可以使用快捷键命令，或按:输入命令行；
* 插入模式：可以输入文本，在正常模式下，按i、a、o等都可以进入插入模式；
* 可视模式：在可视模式下，移动光标可以选择文本，正常模式下按v进入字符可视化模式，文本的选择是以字符为单位的，按V进入行可视化模式，文本选择是以行为单位的；
* 块选择模式：正常模式下按ctrl+v进入，可以选择一个矩形内的文本；
* 替换模式：正常模式下，按R进入。

## 2. 插入
* i：insert，在光标前插入；
* I：在当前行最前插入；
* a：add，在光标后插入；
* A：在当前行最后插入；
* o：在下面新建一行插入；
* O：在上面新建一行插入；

## 3. 光标的移动
* h：左移一个字符；
* l：右移一个字符；
* j：下移一行；
* k：上移一行；
* b：向前移动一个单词，光标停留在单词的首字母上；
* ge：向前移动一个单词，光标停留在单词的结尾；
* e：向后移动一个单词，光标停留在单词的结尾；
* w：向后移动一个单词，光标停留在单词的首字母上；
* 3w：向后移动3个单词；
* $：移动到行尾；
* 0：移动到行首；
* ^：移动到行首；
* gg：跳到第一行
* G：跳到最后一行；
* 50G：跳到第50行；
* :50：跳到第50行；
* )：移动到下一句；
* (：移动到上一句；

## 4. 撤销
* u：undo，撤销上次操作；
* U：撤销当前行中所有操作，事情闹大了，得有个更大的UNDO才能恢复；

## 5. 剪切、复制、粘贴
* [n]x：剪切光标右边n个字符，包含当前光标，相当于d[n]l；
* [n]X：剪切光标左边n个字符，不包含当前光标，相当于d[n]h；
* d：剪切在可视模式下选中的文本；
* d$ or D：剪切当前位置到行尾的内容，包括当前位置；
* d0 or d^：剪切当前位置到行首的内容，不包括当前位置；
* dG：剪切光标以下的所有行，包括光标所在的行；
* d1G or dgg：剪切光标以上的所有行，包括光标所在的行；
* dd：剪切当前行；
* d[n]d：剪切当前行向下共n行，包括当前行；
* d[n]k：剪切当前行向上共k+1行，包括当前行；
* p：在光标之后粘贴；
* P：在光标之前粘贴；
* 将d换成y，剪切功能就变成复制功能了。
* 将d换成c，仍然是剪切功能，但剪切完成后会进入插入模式；

## 6. 查找和替换
* /word：从当前位置之后开始向后查找，不包括当前位置；
* ?word：从当前位置之前开始向前查找，不包括当前位置；
* n：next，定位到下一个匹配的；
* N：定位到上一个匹配的；
* :s/old/new：用new替换当前行第一个old；
* :s/old/new/g：用new替换当前行所有old；
* :%s/old/new/g：用new替换文件中所有的old；
* :%s/^/xxx/g：在每一行的行首插入xxx；
* :%s/$/xxx/g：在每一行的行尾插入xxx；
* :n1,n2s/old/new/g：用new替换文件n1行到n2行所有的old；
* 所有替换命令末尾加上c，每个替换都将需要用户确认。如：%s/old/new/gc；
* r：替换光标处的字符；
